{"ast":null,"code":"import contains from 'dom-helpers/contains';\nimport listen from 'dom-helpers/listen';\nimport { useCallback, useEffect, useRef } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport warning from 'warning';\nimport ownerDocument from './ownerDocument';\nvar escapeKeyCode = 27;\n\nvar noop = function noop() {};\n\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nvar getRefTarget = function getRefTarget(ref) {\n  return ref && ('current' in ref ? ref.current : ref);\n};\n/**\r\n * The `useRootClose` hook registers your callback on the document\r\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\r\n * style behavior where your callback is triggered when the user tries to\r\n * interact with the rest of the document or hits the `esc` key.\r\n *\r\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\r\n * @param {function} onRootClose\r\n * @param {object=}  options\r\n * @param {boolean=} options.disabled\r\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\r\n */\n\n\nfunction useRootClose(ref, onRootClose, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      disabled = _ref.disabled,\n      _ref$clickTrigger = _ref.clickTrigger,\n      clickTrigger = _ref$clickTrigger === void 0 ? 'click' : _ref$clickTrigger;\n\n  var preventMouseRootCloseRef = useRef(false);\n  var onClose = onRootClose || noop;\n  var handleMouseCapture = useCallback(function (e) {\n    var _e$composedPath$;\n\n    var currentTarget = getRefTarget(ref);\n    warning(!!currentTarget, 'RootClose captured a close event but does not have a ref to compare it to. ' + 'useRootClose(), should be passed a ref that resolves to a DOM node');\n    preventMouseRootCloseRef.current = !currentTarget || isModifiedEvent(e) || !isLeftClickEvent(e) || !!contains(currentTarget, (_e$composedPath$ = e.composedPath == null ? void 0 : e.composedPath()[0]) != null ? _e$composedPath$ : e.target);\n  }, [ref]);\n  var handleMouse = useEventCallback(function (e) {\n    if (!preventMouseRootCloseRef.current) {\n      onClose(e);\n    }\n  });\n  var handleKeyUp = useEventCallback(function (e) {\n    if (e.keyCode === escapeKeyCode) {\n      onClose(e);\n    }\n  });\n  useEffect(function () {\n    if (disabled || ref == null) return undefined; // Store the current event to avoid triggering handlers immediately\n    // https://github.com/facebook/react/issues/20074\n\n    var currentEvent = window.event;\n    var doc = ownerDocument(getRefTarget(ref)); // Use capture for this listener so it fires before React's listener, to\n    // avoid false positives in the contains() check below if the target DOM\n    // element is removed in the React mouse callback.\n\n    var removeMouseCaptureListener = listen(doc, clickTrigger, handleMouseCapture, true);\n    var removeMouseListener = listen(doc, clickTrigger, function (e) {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n\n      handleMouse(e);\n    });\n    var removeKeyupListener = listen(doc, 'keyup', function (e) {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n\n      handleKeyUp(e);\n    });\n    var mobileSafariHackListeners = [];\n\n    if ('ontouchstart' in doc.documentElement) {\n      mobileSafariHackListeners = [].slice.call(doc.body.children).map(function (el) {\n        return listen(el, 'mousemove', noop);\n      });\n    }\n\n    return function () {\n      removeMouseCaptureListener();\n      removeMouseListener();\n      removeKeyupListener();\n      mobileSafariHackListeners.forEach(function (remove) {\n        return remove();\n      });\n    };\n  }, [ref, disabled, clickTrigger, handleMouseCapture, handleMouse, handleKeyUp]);\n}\n\nexport default useRootClose;","map":{"version":3,"names":["contains","listen","useCallback","useEffect","useRef","useEventCallback","warning","ownerDocument","escapeKeyCode","noop","isLeftClickEvent","event","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","getRefTarget","ref","current","useRootClose","onRootClose","_temp","_ref","disabled","_ref$clickTrigger","clickTrigger","preventMouseRootCloseRef","onClose","handleMouseCapture","e","_e$composedPath$","currentTarget","composedPath","target","handleMouse","handleKeyUp","keyCode","undefined","currentEvent","window","doc","removeMouseCaptureListener","removeMouseListener","removeKeyupListener","mobileSafariHackListeners","documentElement","slice","call","body","children","map","el","forEach","remove"],"sources":["D:/razzak/React_Django_Ecommerce_Sara-Fashion/frontend/node_modules/react-overlays/esm/useRootClose.js"],"sourcesContent":["import contains from 'dom-helpers/contains';\r\nimport listen from 'dom-helpers/listen';\r\nimport { useCallback, useEffect, useRef } from 'react';\r\nimport useEventCallback from '@restart/hooks/useEventCallback';\r\nimport warning from 'warning';\r\nimport ownerDocument from './ownerDocument';\r\nvar escapeKeyCode = 27;\r\n\r\nvar noop = function noop() {};\r\n\r\nfunction isLeftClickEvent(event) {\r\n  return event.button === 0;\r\n}\r\n\r\nfunction isModifiedEvent(event) {\r\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\r\n}\r\n\r\nvar getRefTarget = function getRefTarget(ref) {\r\n  return ref && ('current' in ref ? ref.current : ref);\r\n};\r\n\r\n/**\r\n * The `useRootClose` hook registers your callback on the document\r\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\r\n * style behavior where your callback is triggered when the user tries to\r\n * interact with the rest of the document or hits the `esc` key.\r\n *\r\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\r\n * @param {function} onRootClose\r\n * @param {object=}  options\r\n * @param {boolean=} options.disabled\r\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\r\n */\r\nfunction useRootClose(ref, onRootClose, _temp) {\r\n  var _ref = _temp === void 0 ? {} : _temp,\r\n      disabled = _ref.disabled,\r\n      _ref$clickTrigger = _ref.clickTrigger,\r\n      clickTrigger = _ref$clickTrigger === void 0 ? 'click' : _ref$clickTrigger;\r\n\r\n  var preventMouseRootCloseRef = useRef(false);\r\n  var onClose = onRootClose || noop;\r\n  var handleMouseCapture = useCallback(function (e) {\r\n    var _e$composedPath$;\r\n\r\n    var currentTarget = getRefTarget(ref);\r\n    warning(!!currentTarget, 'RootClose captured a close event but does not have a ref to compare it to. ' + 'useRootClose(), should be passed a ref that resolves to a DOM node');\r\n    preventMouseRootCloseRef.current = !currentTarget || isModifiedEvent(e) || !isLeftClickEvent(e) || !!contains(currentTarget, (_e$composedPath$ = e.composedPath == null ? void 0 : e.composedPath()[0]) != null ? _e$composedPath$ : e.target);\r\n  }, [ref]);\r\n  var handleMouse = useEventCallback(function (e) {\r\n    if (!preventMouseRootCloseRef.current) {\r\n      onClose(e);\r\n    }\r\n  });\r\n  var handleKeyUp = useEventCallback(function (e) {\r\n    if (e.keyCode === escapeKeyCode) {\r\n      onClose(e);\r\n    }\r\n  });\r\n  useEffect(function () {\r\n    if (disabled || ref == null) return undefined; // Store the current event to avoid triggering handlers immediately\r\n    // https://github.com/facebook/react/issues/20074\r\n\r\n    var currentEvent = window.event;\r\n    var doc = ownerDocument(getRefTarget(ref)); // Use capture for this listener so it fires before React's listener, to\r\n    // avoid false positives in the contains() check below if the target DOM\r\n    // element is removed in the React mouse callback.\r\n\r\n    var removeMouseCaptureListener = listen(doc, clickTrigger, handleMouseCapture, true);\r\n    var removeMouseListener = listen(doc, clickTrigger, function (e) {\r\n      // skip if this event is the same as the one running when we added the handlers\r\n      if (e === currentEvent) {\r\n        currentEvent = undefined;\r\n        return;\r\n      }\r\n\r\n      handleMouse(e);\r\n    });\r\n    var removeKeyupListener = listen(doc, 'keyup', function (e) {\r\n      // skip if this event is the same as the one running when we added the handlers\r\n      if (e === currentEvent) {\r\n        currentEvent = undefined;\r\n        return;\r\n      }\r\n\r\n      handleKeyUp(e);\r\n    });\r\n    var mobileSafariHackListeners = [];\r\n\r\n    if ('ontouchstart' in doc.documentElement) {\r\n      mobileSafariHackListeners = [].slice.call(doc.body.children).map(function (el) {\r\n        return listen(el, 'mousemove', noop);\r\n      });\r\n    }\r\n\r\n    return function () {\r\n      removeMouseCaptureListener();\r\n      removeMouseListener();\r\n      removeKeyupListener();\r\n      mobileSafariHackListeners.forEach(function (remove) {\r\n        return remove();\r\n      });\r\n    };\r\n  }, [ref, disabled, clickTrigger, handleMouseCapture, handleMouse, handleKeyUp]);\r\n}\r\n\r\nexport default useRootClose;"],"mappings":"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"},"metadata":{},"sourceType":"module"}